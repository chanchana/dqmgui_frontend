{"version":3,"file":"static/webpack/static/development/pages/index.js.aec0fb418d2e31b06c18.hot-update.js","sources":["webpack:///./components/viewDetailsMenu/search/index.tsx"],"sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { Button } from 'antd';\r\n\r\nimport Nav from '../../Nav';\r\nimport { useSearch } from '../../../hooks/useSearch';\r\nimport SearchResults from '../../../containers/search/SearchResults';\r\nimport { ResultsWrapper, StyledModal } from '../styledComponents';\r\nimport { store } from '../../../contexts/leftSideContext';\r\nimport { StyledButton } from '../../styledComponents';\r\nimport { theme } from '../../../styles/theme';\r\n\r\ninterface CustomModalProps {\r\n  id: any;\r\n}\r\n\r\nexport const CustomModal = ({ id }: CustomModalProps) => {\r\n  const [search_run_number, setSearchRunNumber] = useState('');\r\n  const [search_dataset_name, setSearchDatasetName] = useState('');\r\n  const {\r\n    change_value_in_reference_table,\r\n    toggleOverlayDataMenu,\r\n    openOverlayDataMenu,\r\n  } = useContext(store);\r\n\r\n  const navigationHandler = (\r\n    search_by_run_number: string,\r\n    search_by_dataset_name: string\r\n  ) => {\r\n    setSearchRunNumber(search_by_run_number);\r\n    setSearchDatasetName(search_by_dataset_name);\r\n  };\r\n\r\n  const clear = () => {\r\n    setSearchRunNumber('');\r\n    setSearchDatasetName('');\r\n  };\r\n\r\n  const onClosing = () => {\r\n    clear();\r\n    toggleOverlayDataMenu(false);\r\n  };\r\n\r\n  const searchHandler = (run_number: number, dataset_name: string) => {\r\n    change_value_in_reference_table(run_number, 'run_number', id);\r\n\r\n    change_value_in_reference_table(dataset_name, 'dataset_name', id);\r\n\r\n    toggleOverlayDataMenu(false);\r\n    clear();\r\n  };\r\n\r\n  const { results, results_grouped, searching, isLoading, errors } = useSearch(\r\n    search_run_number,\r\n    search_dataset_name\r\n  );\r\n\r\n  return (\r\n    <StyledModal\r\n      title=\"Overlay Plots data search\"\r\n      visible={openOverlayDataMenu}\r\n      onCancel={() => onClosing()}\r\n      footer={[\r\n        <StyledButton\r\n          color={theme.colors.secondary.main}\r\n          background=\"white\"\r\n          key=\"Close\"\r\n          onClick={() => onClosing()}\r\n        >\r\n          Close\r\n      </StyledButton>,\r\n      ]}\r\n    >\r\n      {openOverlayDataMenu && (\r\n        <>\r\n          <Nav\r\n            handler={navigationHandler}\r\n            setRunNumber={setSearchRunNumber}\r\n            setDatasetName={setSearchDatasetName}\r\n            type=\"overlay\"\r\n          />\r\n          {searching ? (\r\n            <ResultsWrapper>\r\n              <SearchResults\r\n                handler={searchHandler}\r\n                isLoading={isLoading}\r\n                results={results}\r\n                results_grouped={results_grouped}\r\n                errors={errors}\r\n              />\r\n            </ResultsWrapper>\r\n          ) : (\r\n              <ResultsWrapper />\r\n            )}\r\n        </>\r\n      )}\r\n    </StyledModal>\r\n  );\r\n};\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAQA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAnCA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAwCA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;;;;A","sourceRoot":""}