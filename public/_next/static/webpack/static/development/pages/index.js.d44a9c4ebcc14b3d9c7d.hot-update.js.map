{"version":3,"file":"static/webpack/static/development/pages/index.js.d44a9c4ebcc14b3d9c7d.hot-update.js","sources":["webpack:///./components/browsing/lumesectionBroweser.tsx"],"sourcesContent":["import * as React from 'react'\r\nimport { Col, Select, Spin, Button, Row } from 'antd';\r\nimport { CaretRightFilled, CaretLeftFilled } from '@ant-design/icons';\r\n\r\nimport { useRequest } from '../../hooks/useRequest'\r\nimport { getLumisections } from '../../config/config';\r\nimport { StyledSelect, OptionParagraph } from '../viewDetailsMenu/styledComponents';\r\nimport { StyledFormItem } from '../styledComponents';\r\nimport { QueryProps } from '../../containers/display/interfaces';\r\n\r\nconst { Option } = Select;\r\n\r\ninterface AllRunsWithLumiProps {\r\n  run: string;\r\n  lumi: number;\r\n  dataset: string;\r\n}\r\ninterface LumesectionBrowserProps {\r\n  currentLumisection: number;\r\n  setCurrentLumisection(currentLumisection: number): void;\r\n  currentRunNumber: string;\r\n  currentDataset: string;\r\n  color?: string;\r\n}\r\n\r\nexport const LumesectionBrowser = ({ color, currentLumisection, setCurrentLumisection, currentRunNumber, currentDataset }: LumesectionBrowserProps) => {\r\n  const { data, isLoading, errors } = useRequest(getLumisections({\r\n    run_number: currentRunNumber,\r\n    dataset_name: currentDataset, lumi: -1\r\n  }), {}, [currentRunNumber, currentDataset])\r\n\r\n  const all_runs_with_lumi = data ? data.data : []\r\n  const lumisections: number[] = all_runs_with_lumi.length > 0 ? all_runs_with_lumi.map((run: AllRunsWithLumiProps) => {\r\n    return run.lumi\r\n  }) : []\r\n\r\n  lumisections.unshift(-1)\r\n\r\n  const currentLumiIndex = lumisections.indexOf(currentLumisection);\r\n\r\n  return (\r\n    <Col>\r\n      <StyledFormItem labelcolor={color} name={'lumi'} label=\"Lumi\">\r\n        <Row justify=\"center\" align=\"middle\">\r\n          <Col>\r\n            <Button\r\n              disabled={!lumisections[currentLumiIndex - 1]}\r\n              icon={<CaretLeftFilled />}\r\n              type=\"link\"\r\n              onClick={() => {\r\n                setCurrentLumisection(lumisections[currentLumiIndex - 1]);\r\n              }}\r\n            />\r\n          </Col>\r\n\r\n          <Col>\r\n            <StyledSelect\r\n              dropdownMatchSelectWidth={false}\r\n              value={currentLumisection}\r\n              onChange={(e: any) => {\r\n                setCurrentLumisection(parseInt(e));\r\n              }}\r\n              showSearch={true}\r\n            >\r\n              {lumisections && lumisections.map((current_lumisection: number) => {\r\n                return (\r\n                  <Option value={current_lumisection.toString()} key={current_lumisection.toString()} >\r\n                    {isLoading ? (\r\n                      <OptionParagraph>\r\n                        <Spin />\r\n                      </OptionParagraph>\r\n                    ) : (\r\n                        <p>{current_lumisection}</p>\r\n                      )}\r\n                  </Option>\r\n                )\r\n              })\r\n              }\r\n            </StyledSelect>\r\n          </Col>\r\n          <Col>\r\n            <Button\r\n              icon={<CaretRightFilled />}\r\n              disabled={!lumisections[currentLumiIndex + 1]}\r\n              type=\"link\"\r\n              onClick={() => {\r\n                setCurrentLumisection(lumisections[currentLumiIndex + 1]);\r\n              }}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </StyledFormItem>\r\n    </Col>\r\n  )\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AAeA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AACA;AAAA;AAFA;AADA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;;;;A","sourceRoot":""}