{"version":3,"file":"static/webpack/static/development/pages/index.js.645a1c24f8f087ed008a.hot-update.js","sources":["webpack:///./components/Nav.tsx"],"sourcesContent":["import React, { ChangeEvent, Dispatch, useEffect, useState } from 'react';\r\nimport { Form } from 'antd';\r\n\r\nimport { StyledFormItem, StyledInput } from './styledComponents';\r\nimport { SearchButton } from './searchButton';\r\nimport { QuestionButton } from './helpButton';\r\n\r\ninterface NavProps {\r\n  setRunNumber?: Dispatch<any>;\r\n  setDatasetName?: Dispatch<any>;\r\n  initial_search_run_number?: string ;\r\n  initial_search_dataset_name?: string;\r\n  handler(search_by_run_number: string, search_by_dataset_name: string): void;\r\n  type: string;\r\n  defaultRunNumber?: undefined| string;\r\n  defaultDatasetName?: string | undefined;\r\n}\r\n\r\nexport const Nav = ({\r\n  initial_search_run_number,\r\n  initial_search_dataset_name,\r\n  setRunNumber,\r\n  setDatasetName,\r\n  handler,\r\n  type,\r\n  defaultRunNumber,\r\n  defaultDatasetName,\r\n}: NavProps) => {\r\n  const [form] = Form.useForm();\r\n  const [form_search_run_number, setFormRunNumber] = useState(\r\n    initial_search_run_number || ''\r\n  );\r\n  const [form_search_dataset_name, setFormDatasetName] = useState(\r\n    initial_search_dataset_name || ''\r\n  );\r\n\r\n  // We have to wait for changin initial_search_run_number and initial_search_dataset_name coming from query, because the first render they are undefined and therefore the initialValues doesn't grab them\r\n  useEffect(() => {\r\n    form.resetFields();\r\n    setFormRunNumber(initial_search_run_number || '');\r\n    setFormDatasetName(initial_search_dataset_name || '');\r\n  }, [initial_search_run_number, initial_search_dataset_name, form]);\r\n\r\n  const layout = {\r\n    labelCol: { span: 8 },\r\n    wrapperCol: { span: 16 },\r\n  };\r\n  const tailLayout = {\r\n    wrapperCol: { offset: 0, span: 4 },\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Form\r\n        form={form}\r\n        layout={'inline'}\r\n        style={{ justifyContent: 'center', width: 'max-content' }}\r\n        {...layout}\r\n        name={`search_form${type}`}\r\n        className=\"fieldLabel\"\r\n        initialValues={{\r\n          run_number: initial_search_run_number,\r\n          dataset_name: initial_search_dataset_name,\r\n        }}\r\n        onFinish={() => {\r\n          setRunNumber && setRunNumber(form_search_run_number);\r\n          setDatasetName && setDatasetName(form_search_dataset_name);\r\n        }}\r\n      >\r\n        <Form.Item {...tailLayout}>\r\n          <QuestionButton />\r\n        </Form.Item>\r\n        <StyledFormItem name=\"run_number\">\r\n          <StyledInput\r\n            id=\"run_number\"\r\n            onChange={(e: ChangeEvent<HTMLInputElement>) =>\r\n              setFormRunNumber(e.target.value)\r\n            }\r\n            placeholder=\"Enter run number\"\r\n            type=\"text\"\r\n            name=\"run_number\"\r\n            value={defaultRunNumber}\r\n          />\r\n        </StyledFormItem>\r\n        <StyledFormItem name=\"dataset_name\">\r\n          <StyledInput\r\n            id=\"dataset_name\"\r\n            placeholder=\"Enter dataset name\"\r\n            onChange={(e: ChangeEvent<HTMLInputElement>) =>\r\n              setFormDatasetName(e.target.value)\r\n            }\r\n            type=\"text\"\r\n            value={defaultDatasetName}\r\n          />\r\n        </StyledFormItem>\r\n        <Form.Item {...tailLayout}>\r\n          <SearchButton\r\n            onClick={() =>\r\n              handler(form_search_run_number, form_search_dataset_name)\r\n            }\r\n          />\r\n        </Form.Item>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Nav;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AAaA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AACA;AAQA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAFA;AAIA;AACA;AAAA;AAAA;AAAA;AADA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAHA;AAKA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAEA;;;;A","sourceRoot":""}