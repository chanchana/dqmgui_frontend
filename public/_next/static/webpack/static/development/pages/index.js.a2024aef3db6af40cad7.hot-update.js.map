{"version":3,"file":"static/webpack/static/development/pages/index.js.a2024aef3db6af40cad7.hot-update.js","sources":["webpack:///./config/config.ts"],"sourcesContent":["import {\r\n  ParamsForApiProps,\r\n  TripleProps,\r\n  LumisectionRequestProps,\r\n} from '../containers/display/interfaces';\r\nimport { get_customize_params, getRunsWithLumisections } from './utils';\r\n\r\nconst config: any = {\r\n  development: {\r\n    root_url: 'http://localhost:8081',\r\n  },\r\n  production: {\r\n    root_url: 'https://dqm-gui.web.cern.ch/api/dqm/offline',\r\n  },\r\n};\r\nexport const root_url = config[process.env.NODE_ENV || 'development'].root_url;\r\n\r\nexport const get_plot_url = (params: ParamsForApiProps) => {\r\n  return `/plotfairy/archive/${getRunsWithLumisections(params)}${params.dataset_name}${\r\n    params.folders_path\r\n    }/${params.plot_name}?${get_customize_params(params.customizeProps)}${\r\n    params.stats ? '' : 'showstats=0;'\r\n    }${params.errorBars ? 'showerrbars=1;' : ''};w=${params.width};h=${\r\n    params.height\r\n    }`;\r\n};\r\n\r\nexport const get_plot_with_overlay = (params: ParamsForApiProps) => {\r\n  console.log(params)\r\n  return `/plotfairy/overlay?${get_customize_params(\r\n    params.customizeProps\r\n  )}ref=${params.overlay};obj=archive/${getRunsWithLumisections(params)}${\r\n    params.dataset_name\r\n    }${params.folders_path}/${params.plot_name}${\r\n    params.joined_overlaied_plots_urls\r\n    };${params.stats ? '' : 'showstats=0;'}${\r\n    params.errorBars ? 'showerrbars=1;' : ''\r\n    }norm=${params.normalize};w=${params.width};h=${params.height}`;\r\n};\r\n\r\nexport const get_overlaied_plots_urls = (params: ParamsForApiProps) => {\r\n  const overlay_plots =\r\n    params?.overlay_plot && params?.overlay_plot.length > 0\r\n      ? params.overlay_plot\r\n      : [];\r\n\r\n  return overlay_plots.map((overlay: TripleProps) => {\r\n    const dataset_name_overlay = overlay.dataset_name\r\n      ? overlay.dataset_name\r\n      : params.dataset_name;\r\n    const label = overlay.label ? overlay.label : overlay.run_number;\r\n    return `;obj=archive/${getRunsWithLumisections(overlay)}${dataset_name_overlay}${params.folders_path}/${params.plot_name};reflabel=${label}`;\r\n  });\r\n};\r\n\r\nexport const get_jroot_plot = (params: ParamsForApiProps) =>\r\n  `/jsrootfairy/archive/${getRunsWithLumisections(params)}/${params.dataset_name}${params.folders_path}/${params.plot_name}?jsroot=true`;\r\n\r\nexport const getLumisections = (params: LumisectionRequestProps) => (\r\n  `/api/v1/samples?run=${params.run_number}&dataset=${params.dataset_name}&lumi=${params.lumi}`\r\n)"],"mappings":";;;;;;;;;;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AADA;AAGA;AACA;AADA;AAJA;AAQA;AAEA;AACA;AAOA;AAEA;AACA;AACA;AASA;AAEA;AACA;AAKA;AACA;AAGA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAGA;AAAA;AAAA;;;;A","sourceRoot":""}